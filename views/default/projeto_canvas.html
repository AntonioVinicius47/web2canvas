{{extend 'default/layout_base.html'}}
{{ include 'default/modals_ajuda.html'}}

<div class="container">
{{ if request.function == "projeto_canvas": }}
  <h1>
    {{=projeto.nome}}
    <small>- criado por: {{=projeto.criado_por.first_name}}</small>
    <small> - {{=projeto.criado_em.strftime("%d/%m/%Y")}}</small>
  </h1>
{{ pass }}

  <div class="content-container">
    <div id="msg"></div>
    <div id="content_area">
      <div id="canvas">
        <table class="canvas" style="height: 368px; font-size: 11.833333333333334px;"> <!-- tabela principal -->
          <tbody>
            <tr>
              <td class="area sessao_como" height="66%" id="problem" rowspan="2" width="20%">
                <table class="cell-container"> <!-- tabela secundaria  -->
                  <tbody>
                    <tr>
                      <td class="canvas-cell canvas-cell-main">
                        <h3 class="main">
                          <div id="img_parcerias_p" class="area-title">Parcerias<br>Principais</div>
                          <hr>
                          <div class="help">
                            <!-- link modal -->
                            <a href="#parcerias_ajuda" role="button" data-toggle="modal" class="helpIcon">
                              <img height="24" src='{{=URL("static","images/icon_help.png")}}' alt="Saiba Mais" title="Saiba Mais">
                            </a>
                          </div>
                        </h3>
                        <div class="add-new-item principais_parcerias">
                          <!-- gero os itens dinamicamente -->
                          {{import json}}
                          {{ if projeto.principais_parcerias: }}
                              {{ for i in json.loads(projeto.principais_parcerias): }}
                              <p><a href="#" class="campo_existente" id="principais_parcerias" data-pk="{{=i}}" data-placement="right">{{=json.loads(projeto.principais_parcerias)[i]}}</a></p>

                              {{ pass }}
                          {{ pass }}
                        </div>
                      </td>
                    </tr>
                    <tr class="adicionar">
                      <td class="bottom">
                        <button class="principais_parcerias btn-adicionar btn btn-primary" style="display:none;">
                            Adicionar
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table> <!-- fim da tabela secundaria  -->
              </td>
              <td class="area sessao_como" height="33%" id="solution" width="20%">
                <table class="cell-container"> <!-- tabela secundaria  -->
                  <tbody>
                    <tr>
                      <td class="canvas-cell canvas-cell-main">
                        <h3 class="main">
                          <div id="img_atividades_p" class="area-title">Atividades<br>Principais</div>
                          <hr>
                          <div class="help">
                            <!-- link modal -->
                            <a href="#atividades_p_ajuda" role="button" data-toggle="modal" class="helpIcon">
                              <img height="24" src='{{=URL("static","images/icon_help.png")}}' alt="Saiba Mais" title="Saiba Mais">
                            </a>
                          </div>
                          </h3>
                        <div class="add-new-item atividades_principais">
                          <!-- gero os itens dinamicamente -->
                          {{import json}}
                          {{ if projeto.atividades_principais: }}
                              {{ for i in json.loads(projeto.atividades_principais): }}
                              <p><a href="#" class="campo_existente" id="atividades_principais" data-pk="{{=i}}">{{=json.loads(projeto.atividades_principais)[i]}}</a></p>
                              {{ pass }}
                          {{ pass }}
                        </div>
                      </td>
                    </tr>
                    <tr class="adicionar">
                      <td class="bottom">
                        <button class="atividades_principais btn-adicionar btn btn-primary" style="display: none;">
                            Adicionar
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table> <!-- fim da tabela secundaria  -->
              </td>
              <td class="area sessao_oque" colspan="2" height="66%" id="value_proposition" rowspan="2" width="20%">
                <table class="cell-container"> <!-- tabela secundaria  -->
                  <tbody>
                    <tr>
                      <td class="canvas-cell canvas-cell-main">
                        <h3 class="main">
                          <div id="img_proposta_v" class="area-title">Proposta<br>de valor</div>
                          <hr>
                          <div class="help">
                            <!-- link modal -->
                            <a href="#proposta_valor_ajuda" role="button" data-toggle="modal" class="helpIcon">
                              <img height="24" src='{{=URL("static","images/icon_help.png")}}' alt="Saiba Mais" title="Saiba Mais">
                            </a>
                          </div>
                          </h3>
                        <div class="add-new-item proposta_valor">
                          <!-- gero os itens dinamicamente -->
                          {{import json}}
                          {{ if projeto.proposta_valor: }}
                              {{ for i in json.loads(projeto.proposta_valor): }}
                              <p><a href="#" class="campo_existente" id="proposta_valor" data-pk="{{=i}}">{{=json.loads(projeto.proposta_valor)[i]}}</a></p>
                              {{ pass }}
                          {{ pass }}
                        </div>
                      </td>
                    </tr>
                    <tr class="adicionar">
                      <td class="bottom">
                        <button  class="proposta_valor btn-adicionar btn btn-primary" style="display: none;">
                            Adicionar
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table> <!-- fim da tabela secundaria  -->
              </td>
              <td class="area sessao_parquem" height="33%" id="unfair_advantage" width="20%">
                <table class="cell-container"> <!-- tabela secundaria  -->
                  <tbody>
                    <tr>
                      <td class="canvas-cell canvas-cell-main">
                        <h3 class="main">
                          <div id="img_relacionamento_c" class="area-title">Relacionamento<br>com Clientes</div>
                          <hr>
                          <div class="help">
                            <a href="#relacionamento_clientes_ajuda" role="button" data-toggle="modal" class="helpIcon">
                              <img height="24" src='{{=URL("static","images/icon_help.png")}}' alt="Saiba Mais" title="Saiba Mais">
                            </a>
                          </div>
                          </h3>
                        <div class="add-new-item relacionamento_clientes">
                          <!-- gero os itens dinamicamente -->
                          {{import json}}
                          {{ if projeto.relacionamento_clientes: }}
                              {{ for i in json.loads(projeto.relacionamento_clientes): }}
                              <p><a href="#" class="campo_existente" id="relacionamento_clientes" data-pk="{{=i}}">{{=json.loads(projeto.relacionamento_clientes)[i]}}</a></p>
                              {{ pass }}
                          {{ pass }}
                        </div>
                      </td>
                    </tr>
                    <tr class="adicionar">
                      <td class="bottom">
                        <button  class="relacionamento_clientes btn-adicionar btn btn-primary" style="display: none;">
                            Adicionar
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table> <!-- fim da tabela secundaria  -->
              </td>
              <td class="area sessao_parquem" height="66%" id="customer_segments" rowspan="2" width="20%">
                <table class="cell-container"> <!-- tabela secundaria  -->
                  <tbody>
                    <tr>
                      <td class="canvas-cell canvas-cell-main">
                        <h3 class="main">
                          <div id="img_segmento_c" class="area-title">Segmento<br>de Clientes</div>
                          <hr>
                          <div class="help">
                            <a href="#segmento_clientes_ajuda" role="button" data-toggle="modal" class="helpIcon">
                              <img height="24" src='{{=URL("static","images/icon_help.png")}}' alt="Saiba Mais" title="Saiba Mais">
                            </a>
                          </div>
                          </h3>
                        <div class="add-new-item segmento_clientes">
                          <!-- gero os itens dinamicamente -->
                          {{import json}}
                          {{ if projeto.segmento_clientes: }}
                              {{ for i in json.loads(projeto.segmento_clientes): }}
                              <p><a href="#" class="campo_existente" id="segmento_clientes" data-pk="{{=i}}">{{=json.loads(projeto.segmento_clientes)[i]}}</a></p>
                              {{ pass }}
                          {{ pass }}
                        </div>
                      </td>
                    </tr>
                    <tr class="adicionar">
                      <td class="bottom">
                        <button class="segmento_clientes btn-adicionar btn btn-primary" style="display: none;">
                            Adicionar
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table> <!-- fim da tabela secundaria  -->
              </td>
            </tr>
            <tr>
            <td class="area sessao_como" height="33%" id="key_activity" width="20%">
              <table class="cell-container">
                <tbody>
                  <tr>
                    <td class="canvas-cell canvas-cell-main">
                      <h3 class="main">
                        <div id="img_recursos_p" class="area-title">Recursos Principais</div>
                          <hr>
                          <div class="help">
                            <a href="#recursos_principais_ajuda" role="button" data-toggle="modal" class="helpIcon">
                              <img height="24" src='{{=URL("static","images/icon_help.png")}}' alt="Saiba Mais" title="Saiba Mais">
                            </a>
                          </div>
                          </h3>
                        <div class="add-new-item recursos_principais">
                          <!-- gero os itens dinamicamente -->
                          {{import json}}
                          {{ if projeto.recursos_principais: }}
                              {{ for i in json.loads(projeto.recursos_principais): }}
                              <p><a href="#" class="campo_existente" id="recursos_principais" data-pk="{{=i}}">{{=json.loads(projeto.recursos_principais)[i]}}</a></p>
                              {{ pass }}
                          {{ pass }}
                        </div>
                    </td>
                  </tr>
                  <tr class="adicionar">
                    <td class="bottom">
                      <button  class="recursos_principais btn-adicionar btn btn-primary" style="display: none;">
                          Adicionar
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </td>
            <td class="area sessao_parquem" height="33%" id="channels" width="20%">
              <table class="cell-container">
                <tbody>
                  <tr>
                    <td class="canvas-cell canvas-cell-main">
                      <h3 class="main">
                        <div id="img_canais" class="area-title">Canais<br><span>.</span></div>
                          <hr>
                          <div class="help">
                            <a href="#canais_ajuda" role="button" data-toggle="modal" class="helpIcon">
                              <img height="24" src='{{=URL("static","images/icon_help.png")}}' alt="Saiba Mais" title="Saiba Mais">
                            </a>
                          </div>
                          </h3>
                        <div class="add-new-item canais">
                          <!-- gero os itens dinamicamente -->
                          {{import json}}
                          {{ if projeto.canais: }}
                              {{ for i in json.loads(projeto.canais): }}
                              <p><a href="#" class="campo_existente" id="canais" data-pk="{{=i}}">{{=json.loads(projeto.canais)[i]}}</a></p>
                              {{ pass }}
                          {{ pass }}
                        </div>
                      </td>
                    </tr>
                    <tr class="adicionar">
                      <td class="bottom">
                        <button class="canais btn-adicionar btn btn-primary" style="display: none;">
                            Adicionar
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </td>
            </tr>
            <tr>
            <td class="area sessao_quanto" colspan="3" height="33%" id="cost_structure" width="50%">
              <table class="cell-container">
                <tbody>
                  <tr>
                    <td class="canvas-cell canvas-cell-main">
                      <h3 class="main">
                        <div id="img_estrutura_c" class="area-title">Estrutura<br>de Custos</div>
                          <hr>
                          <div class="help">
                            <a href="#estrutura_custos_ajuda" role="button" data-toggle="modal" class="helpIcon">
                              <img height="24" src='{{=URL("static","images/icon_help.png")}}' alt="Saiba Mais" title="Saiba Mais">
                            </a>
                          </div>
                        </h3>
                      <div class="add-new-item estrutura_custos">
                        <!-- gero os itens dinamicamente -->
                          {{import json}}
                          {{ if projeto.estrutura_custos: }}
                              {{ for i in json.loads(projeto.estrutura_custos): }}
                              <p><a href="#" class="campo_existente" id="estrutura_custos" data-pk="{{=i}}" data-placement="right">{{=json.loads(projeto.estrutura_custos)[i]}}</a></p>
                              {{ pass }}
                          {{ pass }}
                      </div>
                      <footer>

                      </footer>
                    </td>
                  </tr>
                  <tr class="adicionar">
                    <td class="bottom">
                      <button class="estrutura_custos btn-adicionar btn btn-primary" style="display: none;">
                          Adicionar
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </td>
            <td class="area sessao_quanto" colspan="3" height="33%" id="revenue_streams" width="50%">
              <table class="cell-container">
                <tbody>
                  <tr>
                    <td class="canvas-cell canvas-cell-main">
                      <h3 class="main">
                        <div id="img_receita" class="area-title">Receitas<br><span>.</span></div>
                        <hr>
                          <div class="help">
                            <a href="#receitas_ajuda" role="button" data-toggle="modal" class="helpIcon">
                              <img height="24" src='{{=URL("static","images/icon_help.png")}}' alt="Saiba Mais" title="Saiba Mais">
                            </a>
                          </div>
                          </h3>
                        <div class="add-new-item receitas">
                          <!-- gero os itens dinamicamente -->
                          {{import json}}
                          {{ if projeto.receitas: }}
                              {{ for i in json.loads(projeto.receitas): }}
                              <p><a href="#" class="campo_existente" id="receitas" data-pk="{{=i}}">{{=json.loads(projeto.receitas)[i]}}</a></p>
                              {{ pass }}
                          {{ pass }}
                        </div>
                      </td>
                    </tr>
                    <tr class="adicionar">
                      <td class="bottom">
                        <button  class="receitas btn-adicionar btn btn-primary" style="display: none;">
                            Adicionar
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </td>
            </tr>
          </tbody>
        </table> <!-- fim da tabela principal -->

        <div class="collaborators-container">
          <div class="pull-left">
            <a href="#"><img alt="Team" height="64" src='{{=URL("static","img/time.png")}}'></a>
          </div>
          {{from random import randint}}
          <div class="pull-left">
            <ul class="collaborators">
              <li>
                  <div class="person">
                    <div class="icon">
                      <img alt="{{=projeto.criado_por.first_name}} avatar" title="{{=projeto.criado_por.first_name}} avatar" src='{{=URL("static","img/avatar%d.png" % randint(1,4))}}'>
                    </div>
                    <div class="name">
                    {{=projeto.criado_por.first_name}}
                    </div>
                  </div>
              </li>
              {{ for i in time_compartilhamento: }}
              <li>
                  <div class="person">
                    <div class="icon">
                      <img alt="{{=i.usuario_id.first_name}} avatar" title="{{=i.usuario_id.first_name}} avatar" src='{{=URL("static","images/avatar.png")}}'>
                    </div>
                    <div class="name">
                    {{=i.usuario_id.first_name}}
                    </div>
                  </div>
              </li>
              {{ pass }}
              <!--<li id="collaborator_39160">
                <div class="person">
                  <div class="icon">
                    <img alt="Esse é seu avatar!" src='{{=URL("static","images/avatar.png")}}'>
                    <span class="status offline"></span>
                  </div>
                  <div class="name">
                  Danielx4
                  </div>
                </div>
              </li>
              <li id="collaborator_41302">
                <div class="person">
                  <div class="icon">
                    <img alt="Esse é seu avatar!" src='{{=URL("static","images/avatar.png")}}' title="Gustavo de Souza is currently online">
                    <span class="status online"></span>
                  </div>
                  <div class="name">
                  Gustavo de Souza
                  </div>
                </div>
              </li>-->
            </ul>
          </div> <!-- fim do pull-left -->
        </div> <!-- fim do collaborators-container -->
      </div> <!-- fim do canvas -->
    </div> <!-- fim do content_area -->
  </div> <!-- fim do content-container -->
</div> <!-- fim do container -->
